(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{15:function(e,t,n){},16:function(e,t,n){},17:function(e,t,n){},18:function(e,t,n){"use strict";n.r(t);var a=n(0),l=n.n(a),r=n(2),c=n.n(r),i=(n(15),n(3)),o=n(4),s=n(5),u=n(7),f=n(6),p=n(8),m=(n(16),n(17),function(e){var t=e.inputId,n=e.fileType,a=e.onInputChange,r=e.spanRef,c=e.inputDescription;return l.a.createElement("div",{className:"input-file"},l.a.createElement("div",{className:"input-description"},c),l.a.createElement("label",{className:"btn",htmlFor:t},"Choose ",n," file"),l.a.createElement("input",{id:t,type:"file",onChange:a,accept:n}),l.a.createElement("div",{className:"selected-file"},l.a.createElement("span",null,"Selected file: "),l.a.createElement("span",{ref:r},"none")))});m.defaultProps={inputDescription:""};var d=m,v=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(u.a)(this,Object(f.a)(t).call(this,e))).compareColumns=function(){var e=[],t=n.state,a=t.table1,l=t.table2;if(n.verifyIfAllTheFilesWereSelected(a,l),null!==a&&null!==l){for(var r=a.length,c=0,i=0;i<r;i++)for(var o=a[i],s=l[i],u=Object.keys(o),f=Object.keys(s),p=u.length,m=0;m<p;m++){var d=u[m],v=f[m],h=o[d],b=s[v],C=h!==b;C&&(c++,e.push(n.buildComparedTablesObject(C,d,v,h,b)))}if(0===c)n.textAreaRef.current.value="The tables don't have discrepancys";else{var E=n.buildReport(e);n.textAreaRef.current.value=E}}},n.buildComparedTablesObject=function(e,t,n,a,l){return{hasDiscrepancys:e,from:{table:"table1",column:t,value:a},to:{table:"table2",column:n,value:l}}},n.buildReport=function(e){return e.map(function(e){return"\n".concat(JSON.stringify(e),"\n        ============================================================================================")})},n.verifyIfAllTheFilesWereSelected=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t.forEach(function(e,t){null===e&&alert("Select file ".concat(t))})},n.selectedFile1=l.a.createRef(),n.selectedFile2=l.a.createRef(),n.selectedFile3=l.a.createRef(),n.textAreaRef=l.a.createRef(),n.state={table1:null,table2:null},n}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"App"},l.a.createElement("header",{className:"App-header"},l.a.createElement("h1",null,"Compare value of columns from CSV files ")),l.a.createElement("div",{className:"App-body"},l.a.createElement(d,{inputDescription:"Select first file",inputId:"csv-file",onInputChange:function(t){return e.onInputChange(t,e.convertCSVToJSON,"table1",e.selectedFile1)},fileType:".csv",spanRef:this.selectedFile1}),l.a.createElement(d,{inputDescription:"Select second file",inputId:"csv-file2",onInputChange:function(t){return e.onInputChange(t,e.convertCSVToJSON,"table2",e.selectedFile2)},fileType:".csv",spanRef:this.selectedFile2})),l.a.createElement("div",{className:"container-btn"},l.a.createElement("button",{className:"btn",onClick:this.compareColumns},"Compare columns"),l.a.createElement("textarea",{rows:"20",ref:this.textAreaRef})))}},{key:"onInputChange",value:function(e,t,n,a){var l=this,r=e.target.files[0],c=new FileReader;c.readAsText(r),c.onload=function(e){var c=e.target.result,o=t(c);l.setState(Object(i.a)({},n,o)),a.current.innerHTML=r.name}}},{key:"convertCSVToJSON",value:function(e){for(var t=e.split("\n"),n=t[0].split(","),a=t.filter(function(e,t){return t>=1&&e.length>12}),l={},r=[],c=1;c<a.length;c++){l={};for(var i=a[c].split(","),o=0;o<i.length;o++)l["".concat(n[o])]=i[o];r.push(l)}return r}}]),t}(a.Component);c.a.render(l.a.createElement(v,null),document.getElementById("root"))},9:function(e,t,n){e.exports=n(18)}},[[9,1,2]]]);
//# sourceMappingURL=main.8524494d.chunk.js.map